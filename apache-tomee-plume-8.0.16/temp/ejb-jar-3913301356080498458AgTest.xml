<?xml version='1.0' encoding='UTF-8'?>
<ejb-jar xmlns="http://java.sun.com/xml/ns/javaee" version="3.2">
    <enterprise-beans>
        <session id="FetchService">
            <ejb-name>FetchService</ejb-name>
            <mapped-name></mapped-name>
            <ejb-class>com.ag.service.FetchService</ejb-class>
            <session-type>Stateless</session-type>
            <depends-on/>
            <transaction-type>Container</transaction-type>
            <env-entry>
                <env-entry-name>java:module/ModuleName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>AgTest</env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:app/AppName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>AgTest</env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:comp/ComponentName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>FetchService</env-entry-value>
            </env-entry>
            <ejb-local-ref>
                <ejb-ref-name>java:comp/env/hello/fetchService</ejb-ref-name>
                <local>com.ag.service.FetchService</local>
                <injection-target>
                    <injection-target-class>hello</injection-target-class>
                    <injection-target-name>fetchService</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <resource-ref>
                <res-ref-name>java:comp/env/agTest/jms/TestFactory</res-ref-name>
                <res-type>javax.jms.ConnectionFactory</res-type>
                <res-auth>Container</res-auth>
                <res-sharing-scope>Shareable</res-sharing-scope>
                <mapped-name>Default JMS Connection Factory</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>connectionFactory</injection-target-name>
                </injection-target>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/BeanManager</resource-env-ref-name>
                <resource-env-ref-type>javax.enterprise.inject.spi.BeanManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/Validator</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.Validator</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/ValidatorFactory</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.ValidatorFactory</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionManager</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionSynchronizationRegistry</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionSynchronizationRegistry</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/env/com.ag.interceptor.InterceptorTest/queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
                <mapped-name>agTest/jms/TestQueue</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>queue</injection-target-name>
                </injection-target>
            </resource-env-ref>
            <persistence-context-ref>
                <persistence-context-ref-name>java:comp/env/com.ag.service.FetchService/entityManager</persistence-context-ref-name>
                <persistence-unit-name>AgTestXADS</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <mapped-name>AgTestXADS -1935458518localhost</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.service.FetchService</injection-target-class>
                    <injection-target-name>entityManager</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
        <session id="AgTest.Comp1128324324">
            <ejb-name>AgTest.Comp</ejb-name>
            <local-bean/>
            <ejb-class>org.apache.openejb.BeanContext$Comp</ejb-class>
            <session-type>Managed</session-type>
            <depends-on/>
            <transaction-type>Bean</transaction-type>
            <env-entry>
                <env-entry-name>java:module/ModuleName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>AgTest</env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:app/AppName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>AgTest</env-entry-value>
            </env-entry>
            <env-entry>
                <env-entry-name>java:comp/ComponentName</env-entry-name>
                <env-entry-type>java.lang.String</env-entry-type>
                <env-entry-value>AgTest</env-entry-value>
            </env-entry>
            <ejb-local-ref>
                <ejb-ref-name>java:comp/env/hello/fetchService</ejb-ref-name>
                <local>com.ag.service.FetchService</local>
                <injection-target>
                    <injection-target-class>hello</injection-target-class>
                    <injection-target-name>fetchService</injection-target-name>
                </injection-target>
            </ejb-local-ref>
            <resource-ref>
                <res-ref-name>java:comp/env/agTest/jms/TestFactory</res-ref-name>
                <res-type>javax.jms.ConnectionFactory</res-type>
                <res-auth>Container</res-auth>
                <res-sharing-scope>Shareable</res-sharing-scope>
                <mapped-name>Default JMS Connection Factory</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>connectionFactory</injection-target-name>
                </injection-target>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/BeanManager</resource-env-ref-name>
                <resource-env-ref-type>javax.enterprise.inject.spi.BeanManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/Validator</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.Validator</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/ValidatorFactory</resource-env-ref-name>
                <resource-env-ref-type>javax.validation.ValidatorFactory</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionManager</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionManager</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/TransactionSynchronizationRegistry</resource-env-ref-name>
                <resource-env-ref-type>javax.transaction.TransactionSynchronizationRegistry</resource-env-ref-type>
            </resource-env-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/env/com.ag.interceptor.InterceptorTest/queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
                <mapped-name>agTest/jms/TestQueue</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>queue</injection-target-name>
                </injection-target>
            </resource-env-ref>
            <persistence-context-ref>
                <persistence-context-ref-name>java:comp/env/com.ag.service.FetchService/entityManager</persistence-context-ref-name>
                <persistence-unit-name>AgTestXADS</persistence-unit-name>
                <persistence-context-type>Transaction</persistence-context-type>
                <mapped-name>AgTestXADS -1935458518localhost</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.service.FetchService</injection-target-class>
                    <injection-target-name>entityManager</injection-target-name>
                </injection-target>
            </persistence-context-ref>
        </session>
    </enterprise-beans>
    <interceptors>
        <interceptor>
            <interceptor-class>com.ag.interceptor.InterceptorTest</interceptor-class>
            <around-invoke>
                <class>com.ag.interceptor.InterceptorTest</class>
                <method-name>interceptFetchService</method-name>
            </around-invoke>
            <resource-ref>
                <res-ref-name>java:comp/env/agTest/jms/TestFactory</res-ref-name>
                <res-type>javax.jms.ConnectionFactory</res-type>
                <res-auth>Container</res-auth>
                <res-sharing-scope>Shareable</res-sharing-scope>
                <mapped-name>Default JMS Connection Factory</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>connectionFactory</injection-target-name>
                </injection-target>
            </resource-ref>
            <resource-env-ref>
                <resource-env-ref-name>java:comp/env/com.ag.interceptor.InterceptorTest/queue</resource-env-ref-name>
                <resource-env-ref-type>javax.jms.Queue</resource-env-ref-type>
                <mapped-name>agTest/jms/TestQueue</mapped-name>
                <injection-target>
                    <injection-target-class>com.ag.interceptor.InterceptorTest</injection-target-class>
                    <injection-target-name>queue</injection-target-name>
                </injection-target>
            </resource-env-ref>
        </interceptor>
    </interceptors>
    <assembly-descriptor>
        <interceptor-binding>
            <ejb-name>FetchService</ejb-name>
            <interceptor-class>com.ag.interceptor.InterceptorTest</interceptor-class>
            <exclude-default-interceptors>false</exclude-default-interceptors>
            <exclude-class-interceptors>false</exclude-class-interceptors>
            <method>
                <method-name>fetchUsers</method-name>
                <method-params/>
            </method>
        </interceptor-binding>
        <interceptor-binding>
            <ejb-name>FetchService</ejb-name>
            <interceptor-class>com.ag.interceptor.InterceptorTest</interceptor-class>
            <exclude-default-interceptors>false</exclude-default-interceptors>
            <exclude-class-interceptors>false</exclude-class-interceptors>
        </interceptor-binding>
    </assembly-descriptor>
</ejb-jar>
